<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        /*
            사용자 입력을 검사하여 올바른 입력인 경우에 비밀변호 변경 작업이 수행될 수 있도록 함

            1. 모든 사용자 입력은 값이 존재하고 3자 이상이어야함
            2. 변경 패스워드와 변경 패스워드확인의 입력값은 같아야함

            잘못된 사용자 입력의 경우 모든 사용자 입력을 초기화한 후, 현재 페이지를 유지
        */

        function handler(event) {

            var id = document.querySelector('#id');
            var pw = document.querySelector('#pw');
            var newPw = document.querySelector('#newPw');
            var rePw = document.querySelector('#rePw');
            var msg = document.querySelector('#msg');

            if (id.value.length >= 3 && pw.value.length >= 3 && newPw.value.length >= 3 && rePw.value.length >= 3 && pw.value !== newPw.value && newPw.value === rePw.value) {
            } else {
                id.value = '';
                pw.value = '';
                newPw.value = '';
                rePw.value = '';

                msg.innerHTML = '실패';
                msg.style.color = 'red';
                id.focus();
                event.preventDefault();
            }
        }

        function init() {
            document.querySelector('#changePw').onsubmit = handler;
        }

        window.onload = init;

    </script>
    <style>
        label {
            display: inline-block;
            width: 150px;
        }
    </style>
</head>
<body>
<h1>hello, world</h1>
<h3>비밀번호 변경</h3>
<form action="changePw.html" id="changePw">
    <fieldset>
        <label for="id">ID</label>
        <input type="text" id="id" name="id"><br>

        <label for="pw">이전 PW</label>
        <input type="password" id="pw" name="pw"><br>

        <label for="newPw">변경 pw</label>
        <input type="password" id="newPw" name="newPw"><br>

        <label for="rePw">변경 pw 확인</label>
        <input type="password" id="rePw"><br><br>

        <input type="submit" value="변경" id="submit">
        <span id="msg"></span>
    </fieldset>

</form>
</body>
</html>